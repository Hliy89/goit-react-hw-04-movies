{"version":3,"sources":["client/movie/components/FilmList/FilmList.module.css","client/movie/components/FilmList/FilmList.jsx","client/movie/pages/MovieSearchPage/MovieSearchPage.module.css","client/movie/pages/MovieSearchPage/MovieSearchPage.jsx"],"names":["module","exports","FilmList","films","filmElements","map","film","className","styles","filmListItem","to","id","imageFilm","src","poster_path","alt","original_title","title","original_name","filmList","MovieSearchPage","state","query","currentPage","readyFetch","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","a","this","axios","get","response","data","results","console","log","onSubmit","SearchForm","onChange","SearchFormInput","type","placeholder","SearchFormButton","SearchFormButtonLabel","length","Component"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,UAAY,8B,0GCqBrDC,EAjBE,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAEZC,EAAeD,EAAME,KAAI,SAAAC,GAAI,OACjC,oBAAkBC,UAAWC,IAAOC,aAApC,SACE,eAAC,IAAD,CAAMC,GAAE,kBAAaJ,EAAKK,IAA1B,UACE,qBACEJ,UAAWC,IAAOI,UAClBC,IAAG,UANC,oCAMD,OAAWP,EAAKQ,aACnBC,IAAKT,EAAKU,iBAEZ,6BAAKV,EAAKW,OAASX,EAAKY,oBAPnBZ,EAAKK,OAWhB,OAAO,oBAAIJ,UAAWC,IAAOW,SAAtB,SAAiCf,M,mBClB1CJ,EAAOC,QAAU,CAAC,gBAAkB,yCAAyC,iBAAmB,4C,oMCoEjFmB,E,4MA7DbC,MAAQ,CACNlB,MAAO,GACPmB,MAAO,GACPC,YAAa,EACbC,YAAY,G,EAqBdC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEL,MAAOI,EAAEE,cAAcC,S,EAGzCC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKJ,SAAS,CACZH,YAAY,K,+FAzBhB,oCAAAQ,EAAA,2DAC6CC,KAAKZ,MAAxCC,EADV,EACUA,MAAOE,EADjB,EACiBA,WAAYD,EAD7B,EAC6BA,YAD7B,UAGQC,EAHR,gCAI6BU,IAAMC,IAAN,mGACuEb,EADvE,iBACqFC,IALlH,OAIYa,EAJZ,OAOMH,KAAKN,SAAS,CACZH,YAAY,EACZF,MAAO,GACPnB,MAAOiC,EAASC,KAAKC,UAV7B,uDAcIC,QAAQC,IAAR,MAdJ,yD,0EA6BA,WACE,IAAQrC,EAAU8B,KAAKZ,MAAflB,MAER,OACE,qCACE,8BACE,uBAAMsC,SAAUR,KAAKH,aAAcvB,UAAWC,IAAOkC,WAArD,UACE,uBACEb,MAAOI,KAAKZ,MAAMC,MAClBqB,SAAUV,KAAKR,aACflB,UAAWC,IAAOoC,gBAClBC,KAAK,OACLC,YAAY,iBAEd,wBAAQD,KAAK,SAAStC,UAAWC,IAAOuC,iBAAxC,SACE,sBAAMxC,UAAWC,IAAOwC,sBAAxB,2BAIL7C,EAAM8C,OAAS,GAAK,cAAC/C,EAAA,EAAD,CAAUC,MAAOA,W,GAxDhB+C","file":"static/js/4.bf4e3295.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filmList\":\"FilmList_filmList__2C47Q\",\"imageFilm\":\"FilmList_imageFilm__1_7V_\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport styles from './FilmList.module.css';\r\n\r\nconst FilmList = ({ films }) => {\r\n  const url = 'https://image.tmdb.org/t/p/w500/';\r\n  const filmElements = films.map(film => (\r\n    <li key={film.id} className={styles.filmListItem}>\r\n      <Link to={`/movies/${film.id}`}>\r\n        <img\r\n          className={styles.imageFilm}\r\n          src={`${url}${film.poster_path}`}\r\n          alt={film.original_title}\r\n        />\r\n        <h3>{film.title || film.original_name}</h3>\r\n      </Link>\r\n    </li>\r\n  ));\r\n  return <ul className={styles.filmList}>{filmElements}</ul>;\r\n};\r\n\r\nexport default FilmList;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchFormInput\":\"MovieSearchPage_SearchFormInput__3LwCa\",\"SearchFormButton\":\"MovieSearchPage_SearchFormButton__3aXPa\"};","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport FilmList from '../../components/FilmList';\r\n\r\nimport styles from './MovieSearchPage.module.css';\r\n\r\nclass MovieSearchPage extends Component {\r\n  state = {\r\n    films: [],\r\n    query: '',\r\n    currentPage: 1,\r\n    readyFetch: false,\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    const { query, readyFetch, currentPage } = this.state;\r\n    try {\r\n      if (readyFetch) {\r\n        const response = await axios.get(\r\n          `https://api.themoviedb.org/3/search/movie?api_key=923c2cf88ec4338da74c768a045101f0&query=${query}&page=${currentPage}`,\r\n        );\r\n        this.setState({\r\n          readyFetch: false,\r\n          query: '',\r\n          films: response.data.results,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      readyFetch: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { films } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n            <input\r\n              value={this.state.query}\r\n              onChange={this.handleChange}\r\n              className={styles.SearchFormInput}\r\n              type=\"text\"\r\n              placeholder=\"Search films\"\r\n            />\r\n            <button type=\"submit\" className={styles.SearchFormButton}>\r\n              <span className={styles.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n          </form>\r\n        </div>\r\n        {films.length > 0 && <FilmList films={films} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieSearchPage;\r\n"],"sourceRoot":""}