{"version":3,"sources":["client/movie/components/OneFilm/OneFilm.jsx","client/movie/components/OneFilm/OneFilm.module.css","client/movie/pages/MovieReviewsPage/MovieReviewsPage.jsx"],"names":["OneFilm","state","filmsDetails","genres","a","filmId","this","props","axios","get","data","setState","console","log","oneFilmChildren","children","genreEl","map","name","id","to","className","styles","oneMovie","imageFilm","src","poster_path","alt","original_title","title","original_name","overview","React","Component","module","exports","MovieReviewsPage","reviews","match","movieId","params","response","results","reviewsElem","item","author","content","length"],"mappings":"sQAMMA,E,4MACJC,MAAQ,CACNC,aAAc,GACdC,OAAQ,I,8FAGV,gCAAAC,EAAA,sEAEYC,EAAWC,KAAKC,MAAhBF,OAFZ,SAI2BG,IAAMC,IAAN,6CACiBJ,EADjB,6DAJ3B,gBAIYK,EAJZ,EAIYA,KAIRJ,KAAKK,SAAS,CACZT,aAAcQ,EACdP,OAAQO,EAAKP,SAVnB,gDAaIS,QAAQC,IAAR,MAbJ,yD,0EAiBA,WACE,MAAiCP,KAAKL,MAA9BC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,OAEdE,EAAWC,KAAKC,MAAhBF,OAEFS,EAAkBR,KAAKC,MAAMQ,SAC7BC,EAAUb,EAAOc,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,GAAT,OAAkB,6BAAcD,GAALC,MAEtD,OACE,gCACE,cAAC,IAAD,CAAMC,GAAI,IAAV,qBACA,sBAAKC,UAAWC,IAAOC,SAAvB,UACE,qBACEF,UAAWC,IAAOE,UAClBC,IAAG,UAZC,oCAYD,OAAWvB,EAAawB,aAC3BC,IAAKzB,EAAa0B,iBAEpB,gCACE,6BAAK1B,EAAa2B,OAAS3B,EAAa4B,gBACxC,0CACA,4BAAI5B,EAAa6B,WACjB,wCACA,6BAAKf,UAGT,+BACE,6BACE,cAAC,IAAD,CAAMI,GAAE,kBAAaf,EAAb,SAAR,oBAEF,6BACE,cAAC,IAAD,CAAMe,GAAE,kBAAaf,EAAb,YAAR,0BAIHS,S,GAzDakB,IAAMC,WA+DbjC,O,mBCpEfkC,EAAOC,QAAU,CAAC,UAAY,2BAA2B,SAAW,4B,mLC4CrDC,E,4MArCbnC,MAAQ,CAAEoC,QAAS,I,8FAEnB,gCAAAjC,EAAA,sEAEYkC,EAAUhC,KAAKC,MAAf+B,MACAC,EAAYD,EAAME,OAAlBD,QAHZ,SAK2B/B,IAAMC,IAAN,6CACiB8B,EADjB,4EAL3B,OAKUE,EALV,OAQInC,KAAKK,SAAS,CAAE0B,QAASI,EAAS/B,KAAKgC,UAR3C,gDAUI9B,QAAQC,IAAR,MAVJ,yD,0EAcA,WACE,IACQ0B,EADUjC,KAAKC,MAAf+B,MACkBE,OAAlBD,QACAF,EAAY/B,KAAKL,MAAjBoC,QACFM,EAAcN,EAAQpB,KAAI,SAAA2B,GAC9B,OACE,+BACE,4BAAIA,EAAKC,SACT,4BAAID,EAAKE,YAFFF,EAAKzB,OAMlB,OACE,eAACnB,EAAA,EAAD,CAASK,OAAQkC,EAAjB,UACGF,EAAQU,OAAS,GAAK,6BAAKJ,KAC1BN,EAAQU,QAAU,gF,GAhCGd","file":"static/js/7.d5fcb145.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport styles from './OneFilm.module.css';\r\n\r\nclass OneFilm extends React.Component {\r\n  state = {\r\n    filmsDetails: {},\r\n    genres: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { filmId } = this.props;\r\n\r\n      const { data } = await axios.get(\r\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=923c2cf88ec4338da74c768a045101f0&language=en-US`,\r\n      );\r\n\r\n      this.setState({\r\n        filmsDetails: data,\r\n        genres: data.genres,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filmsDetails, genres } = this.state;\r\n    const url = 'https://image.tmdb.org/t/p/w500/';\r\n    const { filmId } = this.props;\r\n\r\n    const oneFilmChildren = this.props.children;\r\n    const genreEl = genres.map(({ name, id }) => <li key={id}>{name}</li>);\r\n\r\n    return (\r\n      <div>\r\n        <Link to={'/'}>Go back</Link>\r\n        <div className={styles.oneMovie}>\r\n          <img\r\n            className={styles.imageFilm}\r\n            src={`${url}${filmsDetails.poster_path}`}\r\n            alt={filmsDetails.original_title}\r\n          />\r\n          <div>\r\n            <h2>{filmsDetails.title || filmsDetails.original_name}</h2>\r\n            <h3>Overview</h3>\r\n            <p>{filmsDetails.overview}</p>\r\n            <h3>Genres</h3>\r\n            <ul>{genreEl}</ul>\r\n          </div>\r\n        </div>\r\n        <ul>\r\n          <li>\r\n            <Link to={`/movies/${filmId}/cast`}>Cast</Link>\r\n          </li>\r\n          <li>\r\n            <Link to={`/movies/${filmId}/reviews`}>Reviews</Link>\r\n          </li>\r\n        </ul>\r\n\r\n        {oneFilmChildren}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OneFilm;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageFilm\":\"OneFilm_imageFilm__1FVci\",\"oneMovie\":\"OneFilm_oneMovie__2Dr8b\"};","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n// import styles from './MovieReviewsPage.module.css';\r\n\r\nimport OneFilm from '../../components/OneFilm/OneFilm';\r\n\r\nclass MovieReviewsPage extends Component {\r\n  state = { reviews: [] };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { match } = this.props;\r\n      const { movieId } = match.params;\r\n\r\n      const response = await axios.get(\r\n        `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=923c2cf88ec4338da74c768a045101f0&language=en-US&page=1`,\r\n      );\r\n      this.setState({ reviews: response.data.results });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { match } = this.props;\r\n    const { movieId } = match.params;\r\n    const { reviews } = this.state;\r\n    const reviewsElem = reviews.map(item => {\r\n      return (\r\n        <li key={item.id}>\r\n          <p>{item.author}</p>\r\n          <p>{item.content}</p>\r\n        </li>\r\n      );\r\n    });\r\n    return (\r\n      <OneFilm filmId={movieId}>\r\n        {reviews.length > 0 && <ul>{reviewsElem}</ul>}\r\n        {!reviews.length && <p>We don't have any reviews for this movie</p>}\r\n      </OneFilm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieReviewsPage;\r\n"],"sourceRoot":""}